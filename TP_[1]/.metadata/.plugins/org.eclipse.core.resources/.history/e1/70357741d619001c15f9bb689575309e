/*
 * entradaDatos.c
 *
 *  Created on: 19 sept 2021
 *      Author: Leonel
 */
#include <stdio.h>
#include <stdlib.h>
#include <math.h>
#include <ctype.h>
#include "entradaDatos.h"

#define TRUE 1
#define FALSE 0

//ACA PONGO EL CODIGO DE LAS FUNCIONES

void menuOpciones()

{
int opcion;
int salir=FALSE;
int esNumero=TRUE;
float primerOperando=0;
float segundoOperando=0;


int banderaPrimerOp = FALSE;
int banderaSegundoOp = FALSE;
/*int banderaSuma;
int banderaResta;
int banderaDivision;
int banderaMultiplicacion;
int banderaFactorial;*/


do{

printf("Bienvenidos a la calculadora\n");
printf("----------------------------\n");
do{
printf("1. Ingresar 1er operando (A=%.2f)\n", primerOperando);
printf("2. Ingresar 2do operando (B=%.2f)\n", segundoOperando);
printf("3. Calcular todas las operaciones\n");
printf("4. Informar resultados\n");
printf("5. Salir\n");
printf("Por favor seleccione una opcion: ");
scanf("%d", &opcion);

fflush(stdin);


switch(opcion)
	{
case 1:
	primerOperando = pedirNumero("Por favor ingrese el primer operando: ");
	banderaPrimerOp = TRUE;

    break;
case 2:
	segundoOperando = pedirNumero("Por favor ingrese el segundo operando: ");
	banderaSegundoOp = TRUE;

    break;
case 3:
	menuCalcularOperaciones(primerOperando, segundoOperando);

    break;
case 4:
	break;
case 5:
	salir=TRUE;
	break;
default:
	esNumero=FALSE;
    printf("ERROR. Seleccione una opcion correcta\n");
    break;
	}
}while(esNumero==FALSE);

}while(salir==FALSE);


}


void menuCalcularOperaciones (float operandoUno, float operandoDos)
{
	char opcion;
	int valida=TRUE;
	int salir=TRUE;
	float resultadoSuma;
	float resultadoResta;
	float resultadoDivision;
	float resultadoMultiplicacion;
	int factorialA = round(operandoUno);
	int factorialB = round(operandoDos);
	unsigned long resultadoFactorialA;
	unsigned long resultadoFactorialB;


	int banderaSuma = 0;
	int banderaResta = 0;
	int banderaDivision  =FALSE;
	int banderaMultiplicacion = FALSE;
	int banderaFactorial = FALSE;


	do{
		do{
	printf("Calcular operaciones: \n");
	printf("---------------------\n");
	printf("a) Calcular la suma (%.2f+%.2f)\n", operandoUno, operandoDos);
	printf("b) Calcular la resta (%.2f-%.2f)\n", operandoUno,operandoDos);
	printf("c) Calcular la division (%.2f/%.2f)\n", operandoUno, operandoDos);
	printf("d) Calcular la multiplicacion (%.2f/%.2f)\n", operandoUno, operandoDos);
	printf("e) Calcular el factorial (%d! y %d!\n)",factorialA, factorialB);
	printf("Por favor seleccione una opcion: ");
	scanf("%c", &opcion);
	opcion = tolower(opcion);
	fflush(stdin);
	valida=TRUE;


	switch(opcion)
	{
	case 'a':
		banderaSuma=TRUE;
		resultadoSuma= sumarFloats(operandoUno, operandoDos);
		printf("El resultado de %.2f + %.2f es: %.2f \n", operandoUno, operandoDos, resultadoSuma);

		break;
	case 'b':
		banderaResta=TRUE;
		resultadoResta = restarFloats(operandoUno, operandoDos);
		printf ("%f", resultadoResta);
		break;
	case 'c':
		banderaDivision=TRUE;
		resultadoDivision = dividirFloats(operandoUno, operandoDos);
		printf ("%f", resultadoDivision);
		break;
	case 'd':
		banderaMultiplicacion=TRUE;
		resultadoMultiplicacion = multiplicarFloats(operandoUno, operandoDos);
		printf ("%f", resultadoMultiplicacion);
		break;
	case 'e':
		banderaFactorial=TRUE;
		resultadoFactorialA = factorial(factorialA);
		resultadoFactorialB = factorial(factorialB);

		printf("El factorial de %d! y %d! es: %lu y %lu\n", factorialA, factorialB, resultadoFactorialA, resultadoFactorialB);
		break;
	default:
		printf("ERROR. Inserte una opcion valida\n");
		valida=FALSE;
		break;
	}
	}while(valida==FALSE);
	}while(salir==FALSE);



}//ACA TERMINA





float sumarFloats(float primerNumero, float segundoNumero)
{
	float resultado;
	resultado = primerNumero+segundoNumero;
	return resultado;
}


float restarFloats(float primerNumero, float segundoNumero)
{
	float resultado;
	resultado = primerNumero-segundoNumero;
	return resultado;
}

float dividirFloats(float primerNumero, float segundoNumero)
{
	float resultado;
	resultado = primerNumero/segundoNumero;
	return resultado;
}

float multiplicarFloats(float primerNumero, float segundoNumero)
{
	float resultado;
	resultado = primerNumero*segundoNumero;
	return resultado;
}

unsigned long factorial (int numero)
{
	unsigned long resultado = 0;

    if(numero >= 0)
    {
        resultado = 1;

        for(int i = 1; i<=numero; i++)
        {
            resultado*=i;
        }

    }
 return resultado;
}


float pedirNumero (char mensaje[])

{
        float numeroIngresado;
        printf("%s", mensaje);
        scanf("%f", &numeroIngresado);

        return numeroIngresado;

}

